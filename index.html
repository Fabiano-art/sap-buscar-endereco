<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <title>Buscador de endereços</title>

    <link rel="stylesheet" href="./css/estilo.css">
</head>

<body>

    <header>
        <h1 class="titulo"> <i>Pesquisa CEP</i> </h1>
    </header>

    <div class="principal">
        <main class="conteiner">
            <div class="buscar">
                <input class="campo-cep" type="text" name="cep" placeholder="Digite o cep...">
                <button id="pesquisar" class="botao">Pesquisar</button>
                <button id="limpar" class="botao">Limpar</button>
            </div>
            <div class="dados">
                <table class="tabela">
                    <tr>
                        <th>Logradouro</th>
                        <th>Complemento</th>
                        <th>Bairro</th>
                        <th>Estado</th>
                        <th>UF</th>
                    </tr>
                </table>
            </div>
        </main>

        <div class="historico">
            <h1>Histórico</h1>
            <div class="dados-historico">
                <h2>Cep31656</h2>
                <button class="botao">Visualizar</button>
            </div>
        </div>
    </div>

</body>


<script>

    const buttonPesquisar = document.querySelector('#pesquisar')
    buttonPesquisar.onclick = e => {

        const cep = document.querySelector('.campo-cep')
        const tabela = document.querySelector('.tabela')

        const url = `https://viacep.com.br/ws/${cep.value}/json/`

        fetch(url)
            .then(resp => resp.json())
            .then(endereco => {
                const tr = document.createElement('tr')

                const tdLogradouro = document.createElement('td')
                const tdComplemento = document.createElement('td')
                const tdBairro = document.createElement('td')
                const tdEstado = document.createElement('td')
                const tdUf = document.createElement('td')

                tdLogradouro.innerHTML = endereco.logradouro
                tdComplemento.innerHTML = endereco.complemento
                tdBairro.innerHTML = endereco.bairro
                tdEstado.innerHTML = endereco.localidade
                tdUf.innerHTML = endereco.uf

                tr.appendChild(tdLogradouro)
                tr.appendChild(tdComplemento)
                tr.appendChild(tdBairro)
                tr.appendChild(tdEstado)
                tr.appendChild(tdUf)

                tabela.appendChild(tr)
            })
    }


</script>

</html>